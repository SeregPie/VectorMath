!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).VectorMath={})}(this,(function(n){"use strict";function t(n,t,e){return Math.min(Math.max(n,t),e)}function e(n,t){return Math.abs(n-t)<=Number.EPSILON}function r(n,t){return n.reduce((n,e,r)=>n+e*t[r],0)}function u(n){return Math.hypot(...n)}function i(n,i){let a=u(n)*u(i);if(a){let u=t(r(n,i)/a,-1,1);return e(1,u)?1:u}return 0}function a(...n){return Math.acos(i(...n))}function o(...n){return a(...n)/Math.PI}function c(n){return n.slice()}function f(...n){let t=0,e=n.length,r=0;return n.forEach(n=>{let u=r+n;Number.MIN_SAFE_INTEGER<u&&u<Number.MAX_SAFE_INTEGER?r=u:(t+=r/e,r=n)}),t+=r/e,t}function l(n,t){return n.map((n,e)=>n*t[e])}function m(n,t){return f(...l(n,t))-f(...n)*f(...t)}function s(n,t){return u(n.map((n,e)=>n-t[e]))}function p(n,t){return n.map(n=>n*t)}function d(n,t){let e=u(n);return e?p(n,t/e):c(n)}function h(...n){return Math.sqrt(function(...n){let t=f(...n);return f(...n.map(n=>Math.pow(n-t,2)))}(...n))}n.AngularDistance=o,n.AngularSimilarity=function(...n){return 1-o(...n)},n.CosineDistance=function(...n){return 1-i(...n)},n.CosineSimilarity=i,n.Covariance=m,n.EuclideanDistance=s,n.PearsonCorrelationCoefficient=function(n,r){let u=h(...n)*h(...r);if(u){let i=t(m(n,r)/u,-1,1);return e(1,i)?1:i}return 0},n.abs=function(n){return n.map(n=>Math.abs(n))},n.add=function(n,t){return n.map((n,e)=>n+t[e])},n.addScalar=function(n,t){return n.map(n=>n+t)},n.angle=a,n.clone=c,n.distance=s,n.div=function(n,t){return n.map((n,e)=>n/t[e])},n.divScalar=function(n,t){return n.map(n=>n/t)},n.dot=r,n.length=u,n.mean=function(...n){return n[0].map((t,e)=>f(...n.map(n=>n[e])))},n.mul=l,n.mulScalar=p,n.normalize=function(n){return d(n,1)},n.relength=d,n.sub=function(n,t){return n.map((n,e)=>n-t[e])},n.subScalar=function(n,t){return n.map(n=>n-t)},n.sum=function(...n){return n[0].map((t,e)=>function(...n){return n.reduce((n,t)=>n+t,0)}(...n.map(n=>n[e])))},Object.defineProperty(n,"__esModule",{value:!0})}));
