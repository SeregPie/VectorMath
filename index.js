!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).VectorMath=t()}(this,(function(){"use strict";function n(n,t,e){return Math.min(Math.max(n,t),e)}function t(n,t){return Math.abs(n-t)<=Number.EPSILON}function e(n,t){return n.reduce((n,e,r)=>n+e*t[r],0)}function r(n){return Math.hypot(...n)}function u(u,i){let a=r(u)*r(i);if(a){let r=n(e(u,i)/a,-1,1);return t(1,r)?1:r}return 0}function i(...n){return Math.acos(u(...n))}function a(...n){return i(...n)/Math.PI}function o(n){return n.slice()}function c(...n){let t=0,e=n.length,r=0;return n.forEach(n=>{let u=r+n;Number.MIN_SAFE_INTEGER<u&&u<Number.MAX_SAFE_INTEGER?r=u:(t+=r/e,r=n)}),t+=r/e,t}function f(n,t){return n.map((n,e)=>n*t[e])}function l(n,t){return c(...f(n,t))-c(...n)*c(...t)}function m(n,t){return r(n.map((n,e)=>n-t[e]))}function s(n,t){return n.map(n=>n*t)}function p(n,t){let e=r(n);return e?s(n,t/e):o(n)}function d(...n){return Math.sqrt(function(...n){let t=c(...n);return c(...n.map(n=>Math.pow(n-t,2)))}(...n))}return{abs:function(n){return n.map(n=>Math.abs(n))},add:function(n,t){return n.map((n,e)=>n+t[e])},addScalar:function(n,t){return n.map(n=>n+t)},angle:i,AngularDistance:a,AngularSimilarity:function(...n){return 1-a(...n)},clone:o,CosineDistance:function(...n){return 1-u(...n)},CosineSimilarity:u,Covariance:l,distance:m,div:function(n,t){return n.map((n,e)=>n/t[e])},divScalar:function(n,t){return n.map(n=>n/t)},dot:e,EuclideanDistance:m,length:r,mean:function(...n){return n[0].map((t,e)=>c(...n.map(n=>n[e])))},mul:f,mulScalar:s,normalize:function(n){return p(n,1)},PearsonCorrelationCoefficient:function(e,r){let u=d(...e)*d(...r);if(u){let i=n(l(e,r)/u,-1,1);return t(1,i)?1:i}return 0},relength:p,sub:function(n,t){return n.map((n,e)=>n-t[e])},subScalar:function(n,t){return n.map(n=>n-t)},sum:function(...n){return n[0].map((t,e)=>function(...n){return n.reduce((n,t)=>n+t,0)}(...n.map(n=>n[e])))}}}));
