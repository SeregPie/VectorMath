!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).VectorMath={})}(this,(function(n){"use strict";function t(n){return n.map(n=>Math.abs(n))}function e(n,t,e){return Math.min(Math.max(n,t),e)}function r(n,t){return Math.abs(n-t)<=Number.EPSILON}function u(n,t){return n.reduce((n,e,r)=>n+e*t[r],0)}function a(n){return Math.hypot(...n)}function i(n,t){let i=a(n)*a(t);if(i){let a=e(u(n,t)/i,-1,1);return r(1,a)?1:a}return 0}function c(...n){return Math.acos(i(...n))}function o(...n){return c(...n)/Math.PI}function f(n){return n.slice()}function l(n,t){return n.map(n=>n*t)}function m(n,t){let e=a(n);return e?l(n,t/e):f(n)}function p(...n){let t=0,e=n.length,r=0;return n.forEach(n=>{let u=r+n;Number.MIN_SAFE_INTEGER<u&&u<Number.MAX_SAFE_INTEGER?r=u:(t+=r/e,r=n)}),t+=r/e,t}function s(n,t){return n.map((n,e)=>n*t[e])}function d(n,t){return p(...s(n,t))-p(...n)*p(...t)}function h(n,t){return n.map((n,e)=>n-t[e])}function M(n,t){return a(h(n,t))}function b(...n){return n.reduce((n,t)=>n+t,0)}function S(...n){return Math.sqrt(function(...n){let t=p(...n);return p(...n.map(n=>Math.pow(n-t,2)))}(...n))}function g(n,t,e,r,u){return r+(n-t)*(u-r)/(e-t)}n.AngularDistance=o,n.AngularSimilarity=function(...n){return 1-o(...n)},n.CosineDistance=function(...n){return 1-i(...n)},n.CosineSimilarity=i,n.Covariance=d,n.EuclideanDistance=M,n.ManhattanDistance=function(n,e){return b(...t(h(n,e)))},n.PearsonCorrelationCoefficient=function(n,t){let u=S(...n)*S(...t);if(u){let a=e(d(n,t)/u,-1,1);return r(1,a)?1:a}return 0},n.abs=t,n.add=function(n,t){return n.map((n,e)=>n+t[e])},n.addScalar=function(n,t){return n.map(n=>n+t)},n.angle=c,n.clamp=function(n,t,r){return n.map((n,u)=>e(n,t[u],r[u]))},n.clampLength=function(n,t,r){return m(n,e(a(n),t,r))},n.clampScalar=function(n,t,r){return n.map(n=>e(n,t,r))},n.clone=f,n.distance=M,n.div=function(n,t){return n.map((n,e)=>n/t[e])},n.divScalar=function(n,t){return n.map(n=>n/t)},n.dot=u,n.length=a,n.mean=function(...n){return n[0].map((t,e)=>p(...n.map(n=>n[e])))},n.mul=s,n.mulScalar=l,n.normalize=function(n){return m(n,1)},n.scale=function(n,t,e,r,u){return n.map((n,a)=>g(n,t[a],e[a],r[a],u[a]))},n.scaleLength=function(n,t,e,r,u){return m(n,g(a(n),t,e,r,u))},n.scaleScalar=function(n,t,e,r,u){return n.map(n=>g(n,t,e,r,u))},n.setLength=m,n.sub=h,n.subScalar=function(n,t){return n.map(n=>n-t)},n.sum=function(...n){return n[0].map((t,e)=>b(...n.map(n=>n[e])))},Object.defineProperty(n,"__esModule",{value:!0})}));
