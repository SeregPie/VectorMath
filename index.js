!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define(r):(n=n||self).VectorMath=r()}(this,(function(){"use strict";function n(n,r,t){return Math.min(Math.max(n,r),t)}function r(n,r){return n.reduce((function(n,t,u){return n+t*r[u]}),0)}function t(n){return Math.hypot.apply(Math,n)}function u(n){return n.slice()}function e(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var t=0,u=n.length,e=0;return n.forEach((function(n){var r=e+n;Number.MIN_SAFE_INTEGER<r&&r<Number.MAX_SAFE_INTEGER?e=r:(t+=e/u,e=n)})),t+=e/u}function o(n,r){return n.map((function(n,t){return n*r[t]}))}function a(n,r){return e.apply(void 0,o(n,r))-e.apply(void 0,n)*e.apply(void 0,r)}function i(n,r){return n.map((function(n){return n*r}))}function f(n,r){var e=t(n);return e?i(n,r/e):u(n)}function c(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var t=e.apply(void 0,n);return e.apply(void 0,n.map((function(n){return Math.pow(n-t,2)})))}function p(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return Math.sqrt(c.apply(void 0,n))}function l(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n.reduce((function(n,r){return n+r}),0)}return{abs:function(n){return n.map((function(n){return Math.abs(n)}))},add:function(n,r){return n.map((function(n,t){return n+r[t]}))},addScalar:function(n,r){return n.map((function(n){return n+r}))},angle:function(u,e){var o=t(u)*t(e);if(o){var a=r(u,e);return Math.acos(n(a/o,-1,1))}return Math.PI/2},clone:u,covariance:a,distance:function(n,r){return t(n.map((function(n,t){return n-r[t]})))},div:function(n,r){return n.map((function(n,t){return n/r[t]}))},divScalar:function(n,r){return n.map((function(n){return n/r}))},dot:r,length:t,mean:function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n[0].map((function(r,t){return e.apply(void 0,n.map((function(n){return n[t]})))}))},mul:o,mulScalar:i,normalize:function(n){return f(n,1)},pearsonCorrelationCoefficient:function(r,t){var u=p.apply(void 0,r)*p.apply(void 0,t);return u?n(a(r,t)/u,-1,1):0},relength:f,sub:function(n,r){return n.map((function(n,t){return n-r[t]}))},subScalar:function(n,r){return n.map((function(n){return n-r}))},sum:function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return n[0].map((function(r,t){return l.apply(void 0,n.map((function(n){return n[t]})))}))}}}));
