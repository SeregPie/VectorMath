!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).VectorMath=t()}(this,(function(){"use strict";function n(n){return n.map((n=>Math.abs(n)))}function t(n,t,r){return Math.min(Math.max(n,t),r)}function r(n,t){return n.reduce(((n,r,e)=>n+r*t[e]),0)}function e(n){return Math.hypot(...n)}function u(n,u){let a=e(n)*e(u);if(a){return t(r(n,u)/a,-1,1)}return 0}function a(...n){return Math.acos(u(...n))}function i(...n){return a(...n)/Math.PI}function c(n,t){return n.map((n=>n*t))}function o(n,t){let r=e(n);return r?c(n,t/r):n.slice()}function f(...n){let t=0,r=n.length,e=0;return n.forEach((n=>{let u=e+n;Number.MIN_SAFE_INTEGER<u&&u<Number.MAX_SAFE_INTEGER?e=u:(t+=e/r,e=n)})),t+=e/r,t}function m(n,t){return n.map(((n,r)=>n*t[r]))}function l(n,t){return f(...m(n,t))-f(...n)*f(...t)}function p(...n){return n[0].map(((t,r)=>f(...n.map((n=>n[r])))))}function s(n){return o(n,1)}function h(n,t){return n.map(((n,r)=>n-t[r]))}function d(n,t){return e(h(n,t))}function M(...n){return n.reduce(((n,t)=>n+t),0)}function g(...n){return Math.sqrt(function(...n){let t=f(...n);return f(...n.map((n=>Math.pow(n-t,2))))}(...n))}function S(n,t,r,e,u){return e+(n-t)*(u-e)/(r-t)}return{abs:n,add:function(n,t){return n.map(((n,r)=>n+t[r]))},addScalar:function(n,t){return n.map((n=>n+t))},angle:a,AngularDistance:i,AngularSimilarity:function(...n){return 1-i(...n)},clamp:function(n,r,e){return n.map(((n,u)=>t(n,r[u],e[u])))},clampLength:function(n,r,u){return o(n,t(e(n),r,u))},clampScalar:function(n,r,e){return n.map((n=>t(n,r,e)))},CosineDistance:function(...n){return 1-u(...n)},CosineSimilarity:u,Covariance:l,DirectionalMean:function(...n){return o(p(...n.map((n=>s(n)))),f(...n.map((n=>e(n)))))},distance:d,div:function(n,t){return n.map(((n,r)=>n/t[r]))},divScalar:function(n,t){return n.map((n=>n/t))},dot:r,EuclideanDistance:d,length:e,ManhattanDistance:function(t,r){return M(...n(h(t,r)))},max:function(...n){return n[0].map(((t,r)=>Math.max(...n.map((n=>n[r])))))},mean:p,min:function(...n){return n[0].map(((t,r)=>Math.min(...n.map((n=>n[r])))))},mul:m,mulScalar:c,normalize:s,PearsonCorrelationCoefficient:function(n,r){let e=g(...n)*g(...r);if(e){return t(l(n,r)/e,-1,1)}return 0},scale:function(n,t,r,e,u){return n.map(((n,a)=>S(n,t[a],r[a],e[a],u[a])))},scaleLength:function(n,t,r,u,a){return o(n,S(e(n),t,r,u,a))},scaleScalar:function(n,t,r,e,u){return n.map((n=>S(n,t,r,e,u)))},setLength:o,sub:h,subScalar:function(n,t){return n.map((n=>n-t))},sum:function(...n){return n[0].map(((t,r)=>M(...n.map((n=>n[r])))))}}}));
