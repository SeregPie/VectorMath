!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(n="undefined"!=typeof globalThis?globalThis:n||self).VectorMath=t()}(this,(function(){"use strict";function n(n){return n.map((n=>Math.abs(n)))}function t(n,t,r){return Math.min(Math.max(n,t),r)}function r(n,t){return Math.abs(n-t)<=Number.EPSILON}function e(n,t){return n.reduce(((n,r,e)=>n+r*t[e]),0)}function u(n){return Math.hypot(...n)}function a(n,a){let i=u(n)*u(a);if(i){let u=t(e(n,a)/i,-1,1);return r(1,u)?1:u}return 0}function i(...n){return Math.acos(a(...n))}function c(...n){return i(...n)/Math.PI}function o(n,t){return n.map((n=>n*t))}function f(n,t){let r=u(n);return r?o(n,t/r):n.slice()}function m(...n){let t=0,r=n.length,e=0;return n.forEach((n=>{let u=e+n;Number.MIN_SAFE_INTEGER<u&&u<Number.MAX_SAFE_INTEGER?e=u:(t+=e/r,e=n)})),t+=e/r,t}function l(n,t){return n.map(((n,r)=>n*t[r]))}function p(n,t){return m(...l(n,t))-m(...n)*m(...t)}function s(...n){return n[0].map(((t,r)=>m(...n.map((n=>n[r])))))}function h(n){return f(n,1)}function d(n,t){return n.map(((n,r)=>n-t[r]))}function M(n,t){return u(d(n,t))}function b(...n){return n.reduce(((n,t)=>n+t),0)}function S(...n){return Math.sqrt(function(...n){let t=m(...n);return m(...n.map((n=>Math.pow(n-t,2))))}(...n))}function g(n,t,r,e,u){return e+(n-t)*(u-e)/(r-t)}return{abs:n,add:function(n,t){return n.map(((n,r)=>n+t[r]))},addScalar:function(n,t){return n.map((n=>n+t))},angle:i,AngularDistance:c,AngularSimilarity:function(...n){return 1-c(...n)},clamp:function(n,r,e){return n.map(((n,u)=>t(n,r[u],e[u])))},clampLength:function(n,r,e){return f(n,t(u(n),r,e))},clampScalar:function(n,r,e){return n.map((n=>t(n,r,e)))},CosineDistance:function(...n){return 1-a(...n)},CosineSimilarity:a,Covariance:p,DirectionalMean:function(...n){return f(s(...n.map((n=>h(n)))),m(...n.map((n=>u(n)))))},distance:M,div:function(n,t){return n.map(((n,r)=>n/t[r]))},divScalar:function(n,t){return n.map((n=>n/t))},dot:e,EuclideanDistance:M,length:u,ManhattanDistance:function(t,r){return b(...n(d(t,r)))},max:function(...n){return n[0].map(((t,r)=>Math.max(...n.map((n=>n[r])))))},mean:s,min:function(...n){return n[0].map(((t,r)=>Math.min(...n.map((n=>n[r])))))},mul:l,mulScalar:o,normalize:h,PearsonCorrelationCoefficient:function(n,e){let u=S(...n)*S(...e);if(u){let a=t(p(n,e)/u,-1,1);return r(1,a)?1:a}return 0},scale:function(n,t,r,e,u){return n.map(((n,a)=>g(n,t[a],r[a],e[a],u[a])))},scaleLength:function(n,t,r,e,a){return f(n,g(u(n),t,r,e,a))},scaleScalar:function(n,t,r,e,u){return n.map((n=>g(n,t,r,e,u)))},setLength:f,sub:d,subScalar:function(n,t){return n.map((n=>n-t))},sum:function(...n){return n[0].map(((t,r)=>b(...n.map((n=>n[r])))))}}}));
